<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>LINE Login</title>
</head>
<body>

<script>
  const channelId = "2008686694";
  const gasUrl = "https://script.google.com/macros/s/AKfycbzeHEG8DW0leV-U9131Z4weGDENVasdFNaEPg9H6LMuYe2uEfDgM13TbXmUN8zzmIdOTA/exec";

  const urlParams = new URLSearchParams(window.location.search);

  // ‡∏ñ‡πâ‡∏≤ login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
  if (urlParams.get("success") === "1") {
    alert("‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢ LINE ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß üéâ\n‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏õ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢");
  } else {
    // ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà login ‚Üí ‡πÑ‡∏õ LINE
    const authUrl =
      "https://access.line.me/oauth2/v2.1/authorize" +
      "?response_type=code" +
      "&client_id=" + channelId +
      "&redirect_uri=" + encodeURIComponent(gasUrl) +
      "&state=login" +
      "&scope=profile";

    location.href = authUrl;
  }
</script>

</body>
</html>
